<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <title>Лабораторная работа №10</title>
  <link rel="stylesheet" href="style.css" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap&subset=cyrillic,cyrillic-ext" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:500,600,700,800,900&display=swap&subset=cyrillic,cyrillic-ext" rel="stylesheet">
</head>

<body>

  <!-- Header -->

  <header>
    <h1>ЛАБОРАТОРНАЯ РАБОТА №10</h1>
    <h2>"Тема: Использование технологии AJAX при разработке клиент-серверного приложения"</h2>
  </header>

  <!-- Main -->

  <main>
      <input name="name" id="name" class="inpt" type="text" placeholder="Введите ваше имя">
      <input class="btn" type="button" onclick="reset()" value="Сброс">
      <input type="submit" name="submit" id="submit" value="Начать" class="btn" onclick="mainFunction()">

  </main>
  <div id="div"></div>
  <!-- Scripts -->

  <script type="text/javascript">
        function reset() {
            document.getElementById('name').value = "";
        }
        function mainFunction() {
            if (document.getElementById('name').value != "") {
                var name_is = false
                var xhr = new XMLHttpRequest()
                var myDiv = document.getElementById("div");

                function name() {
                    let name = document.getElementById('name').value;
                    question1 = `Вопрос №1.   Какими способами можно создать словарь? (нужно ответить ложный вариант)
1) с помощью литерала
2) с помощью функции dict()
3) с помощью функции list()`
                    question2 = `Вопрос №2.   Какие методы имеет НЕ только словарь? (нужно ответить ложный вариант)
1) keys()
2) copy()
3) pop()`
                    question3 = `Вопрос №3.   Какие данные МОЖНО узнать из словаря? (нужно ответить ложный вариант)
1) ключи
2) индексы
3) значения`
                    question4 = `Вопрос №4.   При каких действиях программа будет работать без ошибок? (нужно ответить ложный вариант)
1) присвоение по новому ключу
2) извлечение несуществующего ключа
3) присвоение по существующему ключу `
                    let answer1 = prompt(question1);
                    let answer2 = prompt(question2);
                    let answer3 = prompt(question3);
                    let answer4 = prompt(question4);
                    let questions = [question1, question2, question3, question4]
                    xhr.open('GET', '/cgi-bin/form.py?r=' + Math.random() + '&name=' + name +
                        '&answer1=' + answer1 + '&answer2=' + answer2 + '&answer3=' + answer3 +
                        '&answer4=' + answer4 + '&questions=' + questions);
                    xhr.send(null);
                    name_is = true;
                }
                name()
                xhr.onerror = function (event) {
                    myDiv.innerHTML += "<p style='color:#ff0000'> Ошибка при работе с сервером</p>"
                }
                xhr.onload = function (event) {
                    myDiv.innerHTML = this.responseText;
                }
            } else {
                alert("Пожалуйста введите ваше имя!")
            }
        }
    </script>
</body>

</html>
